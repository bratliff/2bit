var o={init:function(){this.portfolio.init()},portfolio:{data:{},init:function(){$("#portfolio").portfolio(o.portfolio.data)}}};$(function(){o.init()});(function(a){a.fn.portfolio=function(b){var e={image:{width:600,height:400,margin:20},path:{width:20,height:20,marginTop:5,marginLeft:5},animationSpeed:400};var c=a.extend({},e,b);return this.each(function(){var f=a(this),d={init:function(){this.set.position();this.paths.draw();this.paths.go();this.animate.item()},set:{position:function(){f.find(".item").each(function(h){var g=a(this);g.css({left:(c.image.width+c.image.margin)*h+"px"});g.find("div").each(function(i){var k=a(this);k.css({top:(c.image.height+c.image.margin)*i+"px"})})})}},paths:{draw:function(){f.append(a("<div />").addClass("paths"));var h=f.find(".paths"),g=f.find(".item");g.each(function(k){var j=a(this),l=j.find("div");h.append(a("<div />").addClass("path"+k).css({width:c.path.width+"px",left:(c.path.width+c.path.marginLeft)*k+"px"}));l.each(function(i){a("<a />").attr({href:"#",rel:i}).css({width:c.path.width+"px",height:c.path.height+"px",top:(c.path.height+c.path.marginTop)*i+"px"}).appendTo(h.find(".path"+k))})});h.find(".path0").find("a").eq(0).addClass("active")},go:function(){f.find(".paths").find("a").click(function(){var h=a(this),j=f.find(".paths").find("a"),i=h.parent("div").attr("class").split("path")[1],m=h.attr("rel"),g=f.find(".inside"),l=m*(c.image.height+c.image.margin),k=i*(c.image.width+c.image.margin);g.animate({top:-l+"px",left:-k+"px"},c.animationSpeed,function(){d.position.get(g)});return false})},classes:function(h,j){var i=f.find(".paths").find("a"),g=i.filter(function(){var l=a(this),k=l.parent("div").attr("class").split("path")[1],m=l.attr("rel");return k==h&&m==j});i.removeClass("active");g.addClass("active")}},animate:{item:function(){var j={top:"-="+(c.image.height+c.image.margin)+"px"},g={top:"+="+(c.image.height+c.image.margin)+"px"},h={top:0,left:"-="+(c.image.width+c.image.margin)+"px"},i={top:0,left:"+="+(c.image.width+c.image.margin)+"px"};d.animate.img(".down",j,40);d.animate.img(".up",g,38);d.animate.img(".next",h,39);d.animate.img(".prev",i,37)},img:function(j,h,i){var g=f.find(".inside"),k=a.browser.mozilla?"keypress":"keydown";a(j).click(function(){var l=a(this);if(!l.hasClass("active")){g.animate(h,c.animationSpeed,function(){d.position.get(g);l.removeClass("active")})}l.addClass("active");return false});a(document).bind(k,function(m){var l=m.keyCode?m.keyCode:m.which;if(l==i&&a(j).is(":visible")){if(!g.is(":animated")){g.animate(h,c.animationSpeed,function(){d.position.get(g)})}}return false})}},position:{get:function(g){var i=g.position().top,h=g.position().left;d.position.check(i,h)},check:function(q,h){q=(a.browser.msie&&parseInt(a.browser.version)==8&&q!=0)?q-1:q;var p=f.find(".item"),g=p.length-1,t=-g*(c.image.width+c.image.margin),j=h*g/t,n=p.filter(function(){return parseInt(a(this).css("left"))==-h}),u=n.find("div").length-1,l=-u*(c.image.height+c.image.margin),v=q*u/l,s=f.find(".arrows"),k=s.find(".up"),r=s.find(".down"),m=s.find(".next"),i=s.find(".prev");if(h==t){m.hide()}else{m.show()}if(h<0){i.show()}else{i.hide()}if(q==l){r.hide()}else{r.show()}if(q<0){k.show()}else{k.hide()}d.paths.classes(j,v)}}};d.init()})}}(jQuery));(function(d){var a=location.href.replace(/#.*/,"");var c=d.localScroll=function(e){d("body").localScroll(e)};c.defaults={duration:1000,axis:"y",event:"click",stop:true,target:window,reset:true};c.hash=function(f){if(location.hash){f=d.extend({},c.defaults,f);f.hash=false;if(f.reset){var g=f.duration;delete f.duration;d(f.target).scrollTo(0,f);f.duration=g}b(0,location,f)}};d.fn.localScroll=function(e){e=d.extend({},c.defaults,e);return e.lazy?this.bind(e.event,function(g){var h=d([g.target,g.target.parentNode]).filter(f)[0];if(h){b(g,h,e)}}):this.find("a,area").filter(f).bind(e.event,function(g){b(g,this,e)}).end().end();function f(){return !!this.href&&!!this.hash&&this.href.replace(this.hash,"")==a&&(!e.filter||d(this).is(e.filter))}};function b(i,q,g){var r=q.hash.slice(1),p=document.getElementById(r)||document.getElementsByName(r)[0];if(!p){return}if(i){i.preventDefault()}var n=d(g.target);if(g.lock&&n.is(":animated")||g.onBefore&&g.onBefore.call(g,i,p,n)===false){return}if(g.stop){n.stop(true)}if(g.hash){var m=p.id==r?"id":"name",l=d("<a> </a>").attr(m,r).css({position:"absolute",top:d(window).scrollTop(),left:d(window).scrollLeft()});p[m]="";d("body").prepend(l);location=q.hash;l.remove();p[m]=r}n.scrollTo(p,g).trigger("notify.serialScroll",[p])}})(jQuery);(function(c){var a=c.scrollTo=function(d,f,g){c(window).scrollTo(d,f,g)};a.defaults={axis:"xy",duration:parseFloat(c.fn.jquery)>=1.3?0:1};a.window=function(d){return c(window)._scrollable()};c.fn._scrollable=function(){return this.map(function(){var d=this,f=!d.nodeName||c.inArray(d.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!f){return d}var g=(d.contentWindow||d).document||d.ownerDocument||d;return c.browser.safari||g.compatMode=="BackCompat"?g.body:g.documentElement})};c.fn.scrollTo=function(f,e,d){if(typeof e=="object"){d=e;e=0}if(typeof d=="function"){d={onAfter:d}}if(f=="max"){f=9000000000}d=c.extend({},a.defaults,d);e=e||d.speed||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){e/=2}d.offset=b(d.offset);d.over=b(d.over);return this._scrollable().each(function(){var n=this,l=c(n),m=f,j,k={},h=l.is("html,body");switch(typeof m){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(m)){m=b(m);break}m=c(m,this);case"object":if(m.is||m.style){j=(m=c(m)).offset()}}c.each(d.axis.split(""),function(q,r){var t=r=="x"?"Left":"Top",s=t.toLowerCase(),v="scroll"+t,p=n[v],g=a.max(n,r);if(j){k[v]=j[s]+(h?0:p-l.offset()[s]);if(d.margin){k[v]-=parseInt(m.css("margin"+t))||0;k[v]-=parseInt(m.css("border"+t+"Width"))||0}k[v]+=d.offset[s]||0;if(d.over[s]){k[v]+=m[r=="x"?"width":"height"]()*d.over[s]}}else{var u=m[s];k[v]=u.slice&&u.slice(-1)=="%"?parseFloat(u)/100*g:u}if(/^\d+$/.test(k[v])){k[v]=k[v]<=0?0:Math.min(k[v],g)}if(!q&&d.queue){if(p!=k[v]){i(d.onAfterFirst)}delete k[v]}});i(d.onAfter);function i(g){l.animate(k,e,d.easing,g&&function(){g.call(this,f,d)})}}).end()};a.max=function(g,j){var n=j=="x"?"Width":"Height",k="scroll"+n;if(!c(g).is("html,body")){return g[k]-c(g)[n.toLowerCase()]()}var p="client"+n,f=g.ownerDocument.documentElement,d=g.ownerDocument.body;return Math.max(f[k],d[k])-Math.min(f[p],d[p])};function b(d){return typeof d=="object"?d:{top:d,left:d}}})(jQuery);(function(M){var E="left",F="right",N="up",y="down",O="in",x="out",H="none",B="auto",v="horizontal",A="vertical",K="all",L="start",I="move",J="end",D="cancel",P="ontouchstart" in window,w="TouchSwipe";var G={fingers:1,threshold:75,maxTimeThreshold:null,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,triggerOnTouchEnd:true,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"button, input, select, textarea, a, .noSwipe"};M.fn.swipe=function(a){var b=M(this),c=b.data(w);if(c&&typeof a==="string"){if(c[a]){return c[a].apply(this,Array.prototype.slice.call(arguments,1))}else{M.error("Method "+a+" does not exist on jQuery.swipe")}}else{if(!c&&(typeof a==="object"||!a)){return z.apply(this,arguments)}}return b};M.fn.swipe.defaults=G;M.fn.swipe.phases={PHASE_START:L,PHASE_MOVE:I,PHASE_END:J,PHASE_CANCEL:D};M.fn.swipe.directions={LEFT:E,RIGHT:F,UP:N,DOWN:y,IN:O,OUT:x};M.fn.swipe.pageScroll={NONE:H,HORIZONTAL:v,VERTICAL:A,AUTO:B};M.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:K};function z(a){if(a&&(a.allowPageScroll===undefined&&(a.swipe!==undefined||a.swipeStatus!==undefined))){a.allowPageScroll=H}if(!a){a={}}a=M.extend({},M.fn.swipe.defaults,a);return this.each(function(){var b=M(this);var c=b.data(w);if(!c){c=new C(this,a);b.data(w,c)}})}function C(t,i){var u=(P||!i.fallbackToMouseEvents),at=u?"touchstart":"mousedown",r=u?"touchmove":"mousemove",ax=u?"touchend":"mouseup",aj="touchcancel";var k=0;var ar=null;var h=0;var aq=0;var aF=0;var f=1;var s=0;var aA=M(t);var ap="start";var al=0;var g=null;var ay=0;var n=0;try{aA.bind(at,aB);aA.bind(aj,au)}catch(ao){M.error("events not supported "+at+","+aj+" on jQuery.swipe")}this.enable=function(){aA.bind(at,aB);aA.bind(aj,au);return aA};this.disable=function(){ak();return aA};this.destroy=function(){ak();aA.data(w,null);return aA};function aB(Q){if(p()){return}if(M(Q.target).closest(i.excludedElements,aA).length>0){return}Q=Q.originalEvent;var R,S=P?Q.touches[0]:Q;ap=L;if(P){al=Q.touches.length}else{Q.preventDefault()}k=0;ar=null;s=null;h=0;aq=0;aF=0;f=1;g=q();if(!P||(al===i.fingers||i.fingers===K)||d()){g[0].start.x=g[0].end.x=S.pageX;g[0].start.y=g[0].end.y=S.pageY;ay=aE();if(al==2){g[1].start.x=g[1].end.x=Q.touches[1].pageX;g[1].start.y=g[1].end.y=Q.touches[1].pageY;aq=aF=m(g[0].start,g[1].start)}if(i.swipeStatus||i.pinchStatus){R=am(Q,ap)}}else{au(Q);R=false}if(R===false){ap=D;am(Q,ap);return R}else{e(true);aA.bind(r,an);aA.bind(ax,l)}}function an(Q){Q=Q.originalEvent;if(ap===J||ap===D){return}var S,T=P?Q.touches[0]:Q;g[0].end.x=P?Q.touches[0].pageX:T.pageX;g[0].end.y=P?Q.touches[0].pageY:T.pageY;n=aE();ar=a(g[0].start,g[0].end);if(P){al=Q.touches.length}ap=I;if(al==2){if(aq==0){g[1].start.x=Q.touches[1].pageX;g[1].start.y=Q.touches[1].pageY;aq=aF=m(g[0].start,g[1].start)}else{g[1].end.x=Q.touches[1].pageX;g[1].end.y=Q.touches[1].pageY;aF=m(g[0].end,g[1].end);s=c(g[0].end,g[1].end)}f=aG(aq,aF)}if((al===i.fingers||i.fingers===K)||!P){aD(Q,ar);k=aC(g[0].start,g[0].end);h=aw(g[0].start,g[0].end);if(i.swipeStatus||i.pinchStatus){S=am(Q,ap)}if(!i.triggerOnTouchEnd){var R=!b();if(j()===true){ap=J;S=am(Q,ap)}else{if(R){ap=D;am(Q,ap)}}}}else{ap=D;am(Q,ap)}if(S===false){ap=D;am(Q,ap)}}function l(Q){Q=Q.originalEvent;if(Q.touches&&Q.touches.length>0){return true}Q.preventDefault();n=aE();if(aq!=0){aF=m(g[0].end,g[1].end);f=aG(aq,aF);s=c(g[0].end,g[1].end)}k=aC(g[0].start,g[0].end);ar=a(g[0].start,g[0].end);h=aw();if(i.triggerOnTouchEnd||(i.triggerOnTouchEnd===false&&ap===I)){ap=J;var T=av()||!d();var V=((al===i.fingers||i.fingers===K)||!P);var W=g[0].end.x!==0;var U=(V&&W&&T);if(U){var S=b();var R=j();if((R===true||R===null)&&S){am(Q,ap)}else{if(!S||R===false){ap=D;am(Q,ap)}}}else{ap=D;am(Q,ap)}}else{if(ap===I){ap=D;am(Q,ap)}}aA.unbind(r,an,false);aA.unbind(ax,l,false);e(false)}function au(){al=0;n=0;ay=0;aq=0;aF=0;f=1;e(false)}function am(Q,S){var R=undefined;if(i.swipeStatus){R=i.swipeStatus.call(aA,Q,S,ar||null,k||0,h||0,al)}if(i.pinchStatus&&av()){R=i.pinchStatus.call(aA,Q,S,s||null,aF||0,h||0,al,f)}if(S===D){if(i.click&&(al===1||!P)&&(isNaN(k)||k===0)){R=i.click.call(aA,Q,Q.target)}}if(S==J){if(i.swipe){R=i.swipe.call(aA,Q,ar,k,h,al)}switch(ar){case E:if(i.swipeLeft){R=i.swipeLeft.call(aA,Q,ar,k,h,al)}break;case F:if(i.swipeRight){R=i.swipeRight.call(aA,Q,ar,k,h,al)}break;case N:if(i.swipeUp){R=i.swipeUp.call(aA,Q,ar,k,h,al)}break;case y:if(i.swipeDown){R=i.swipeDown.call(aA,Q,ar,k,h,al)}break}switch(s){case O:if(i.pinchIn){R=i.pinchIn.call(aA,Q,s||null,aF||0,h||0,al,f)}break;case x:if(i.pinchOut){R=i.pinchOut.call(aA,Q,s||null,aF||0,h||0,al,f)}break}}if(S===D||S===J){au(Q)}return R}function j(){if(i.threshold!==null){return k>=i.threshold}return null}function b(){var Q;if(i.maxTimeThreshold){if(h>=i.maxTimeThreshold){Q=false}else{Q=true}}else{Q=true}return Q}function aD(S,R){if(i.allowPageScroll===H||d()){S.preventDefault()}else{var Q=i.allowPageScroll===B;switch(R){case E:if((i.swipeLeft&&Q)||(!Q&&i.allowPageScroll!=v)){S.preventDefault()}break;case F:if((i.swipeRight&&Q)||(!Q&&i.allowPageScroll!=v)){S.preventDefault()}break;case N:if((i.swipeUp&&Q)||(!Q&&i.allowPageScroll!=A)){S.preventDefault()}break;case y:if((i.swipeDown&&Q)||(!Q&&i.allowPageScroll!=A)){S.preventDefault()}break}}}function aw(){return n-ay}function m(Q,R){var S=Math.abs(Q.x-R.x);var T=Math.abs(Q.y-R.y);return Math.round(Math.sqrt(S*S+T*T))}function aG(S,R){var Q=(R/S)*1;return Q.toFixed(2)}function c(){if(f<1){return x}else{return O}}function aC(Q,R){return Math.round(Math.sqrt(Math.pow(R.x-Q.x,2)+Math.pow(R.y-Q.y,2)))}function az(S,U){var V=S.x-U.x;var Q=U.y-S.y;var T=Math.atan2(Q,V);var R=Math.round(T*180/Math.PI);if(R<0){R=360-Math.abs(R)}return R}function a(R,S){var Q=az(R,S);if((Q<=45)&&(Q>=0)){return E}else{if((Q<=360)&&(Q>=315)){return E}else{if((Q>=135)&&(Q<=225)){return F}else{if((Q>45)&&(Q<135)){return y}else{return N}}}}}function aE(){var Q=new Date();return Q.getTime()}function ak(){aA.unbind(at,aB);aA.unbind(aj,au);aA.unbind(r,an);aA.unbind(ax,l);e(false)}function d(){return i.pinchStatus||i.pinchIn||i.pinchOut}function av(){return s&&d()}function p(){return aA.data(w+"_intouch")===true?true:false}function e(Q){Q=Q===true?true:false;aA.data(w+"_intouch",Q)}function q(){var R=[];for(var Q=0;Q<=5;Q++){R.push({start:{x:0,y:0},end:{x:0,y:0},delta:{x:0,y:0}})}return R}}})(jQuery);var currentTop;var topScrollTarget;$(document).ready(function(){$("#nav").localScroll({onAfter:function(f){currentTop=$(window).scrollTop();if($(window).scrollTop()<100){topScrollTarget=$("#intro").offset().top}else{if(currentTop>100&&currentTop<900){topScrollTarget=$("#second").offset().top}else{if(currentTop>900&&currentTop<1700){topScrollTarget=$("#third").offset().top}else{if(currentTop>1700){topScrollTarget=$("#fifth").offset().top}}}}$fixedElement=$("#nav");$fixedElement.css({position:"relative"});window.scroll(0,topScrollTarget);$fixedElement.css({position:"fixed"})}});$(window).scroll(function(){var e=$(window).scrollTop();$("#anim1").css({top:(e/1.5)+350});$("#logo").css({top:(e/1.5)+350});if(e<200){$("#anim1").html("<img src='images/sign/2.png'>")}else{if(e>200&&e<300){$("#anim1").html("<img src='images/sign/b.png'>")}else{if(e>300&&e<400){$("#anim1").html("<img src='images/sign/i.png'>")}else{if(e>400&&e<500){$("#anim1").html("<img src='images/sign/t.png'>")}else{if(e>500&&e<600){$("#anim1").html("<img src='images/sign/c.png'>")}else{if(e>600&&e<700){$("#anim1").html("<img src='images/sign/r.png'>")}else{if(e>700&&e<800){$("#anim1").html("<img src='images/sign/e.png'>")}else{if(e>800&&e<900){$("#anim1").html("<img src='images/sign/a.png'>")}else{if(e>900&&e<1000){$("#anim1").html("<img src='images/sign/t.png'>")}else{if(e>1000&&e<1100){$("#anim1").html("<img src='images/sign/i.png'>")}else{if(e>1100&&e<1200){$("#anim1").html("<img src='images/sign/2.png'>")}}}}}}}}}}}});var d={position:0,animTime:800};d.position=$("#interactive").position().left;$("#tablet").addClass("norotate");$(".move_btn").click(function(){$(".move_btn").show(200);switch($(this).attr("id")){case"move_left":$("#interactive").animate({left:"+=900"},800,function(){b()});break;case"move_right":$("#interactive").animate({left:"-=900"},800,function(){b()});break}});$("#phone").html("<img src='images/diesel_iphone.png'>");$("#tablet").html("<img src='images/diesel_ipad.jpg'>");$("#tablet").removeClass("norotate").addClass("rotate");$("#computer").html("<img src='images/diesel_shot.png'>");function b(){d.position=$("#interactive").position().left;$("#hand").hide(500);switch(d.position){case 0:$("#phone").html("<img src='images/diesel_iphone.png'>");$("#tablet").html("<img src='images/diesel_ipad.jpg'>");$("#tablet").removeClass("norotate").addClass("rotate");$("#computer").html("<img src='images/diesel_shot.png'>");a(true,true,true,false,true);$("#agency").html("<img src='images/kbsp.gif'>");$("#move_left").hide(200);break;case -900:$("#phone").html("<img src='images/bmw_iphone.png'>");$("#agency").html("<img src='images/kbsp.gif'>");a(false,false,true,false,true);break;case -1800:$("#tablet").html("<img src='images/mastermind_shot.jpg'>");$("#tablet").removeClass("rotate").addClass("norotate");$("#agency").html("<img src='images/kbsp.gif'>");$("#hand").show(500);a(false,true,false,false,true);break;case -2700:a(false,false,false,true,true);$("#agency").html("<img src='images/saatchi.gif'>");break;case -3600:$("#computer").html("<img src='images/eci_shot.png'>");$("#tablet").html("<img src='images/eci_ipad.jpg'>");$("#tablet").removeClass("norotate").addClass("rotate");a(true,true,false,false,false);break;case -4500:$("#computer").html("<img src='images/triad_shot.png'>");a(true,false,false,false,false);break;case -5400:$("#computer").html("<img src='images/lindgren_shot.png'>");a(true,false,false,false,false);$("#move_right").hide(200);break}}var c={computerRight:-700,computerLeft:0,tabletLeft:270,tabletRight:1200,phoneTop:150,phoneBottom:800,enbrelRight:0,enbrelLeft:-800};console.log(c.computer);function a(h,g,e,f,j){var i=d.animTime;switch(h){case true:$("#computer").animate({left:c.computerLeft},i);break;case false:$("#computer").animate({left:c.computerRight},i);break}switch(g){case true:$("#tablet").animate({left:c.tabletLeft},i);break;case false:$("#tablet").animate({left:c.tabletRight},i);break}switch(e){case true:$("#phone").animate({top:c.phoneTop},i);break;case false:$("#phone").animate({top:c.phoneBottom},i);break}switch(f){case true:$("#enbrel").animate({left:c.enbrelRight},i);break;case false:$("#enbrel").animate({left:c.enbrelLeft},i);break}switch(j){case true:$("#agency").show(300);break;case false:$("#agency").hide(300);break}}FB.init({appId:"525449280829351",status:true,cookie:true,oauth:true,xfbml:true});$("#facebook").click(function(){FB.ui({method:"feed",name:"2bit Creative",link:"http://www.2bitcreative.com",picture:"http://www.2bitcreative.com/images/logo.png",description:"Creativity unleashed!"},function(e){if(e&&e.post_id){}else{}})})});